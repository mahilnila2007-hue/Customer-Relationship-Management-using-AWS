<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>CRM Web UI</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      input, button { padding: 6px; margin: 4px; }
      table { border-collapse: collapse; width: 100%; margin-top: 12px; }
      th, td { border: 1px solid #ccc; padding: 8px; }
    </style>
  </head>
  <body>
    <h1>CRM - Customers</h1>
    <div>
      <input id="name" placeholder="Name" />
      <input id="email" placeholder="Email" />
      <input id="phone" placeholder="Phone" />
      <input id="company" placeholder="Company" />
      <button id="create">Create</button>
    </div>

    <table id="customers">
      <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Phone</th><th>Company</th></tr></thead>
      <tbody></tbody>
    </table>

    <script>
      const api = '/api/customers';
      async function load() {
        const res = await fetch(api);
        const list = await res.json();
        const tbody = document.querySelector('#customers tbody');
        tbody.innerHTML = '';
        list.forEach(c => {
          const tr = document.createElement('tr');
          tr.innerHTML = `<td>${c.id}</td><td>${c.name}</td><td>${c.email}</td><td>${c.phone}</td><td>${c.company}</td>`;
          tbody.appendChild(tr);
        });
      }
      document.getElementById('create').addEventListener('click', async ()=>{
        const payload = { name: document.getElementById('name').value, email: document.getElementById('email').value, phone: document.getElementById('phone').value, company: document.getElementById('company').value };
        await fetch(api, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(payload) });
        await load();
      });
      load();
    </script>
  </body>
</html>
